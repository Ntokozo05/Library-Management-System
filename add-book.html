<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New Book - Library Management System</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="add-book.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header fade-in">
            <h1>‚ûï Add New Book</h1>
            <p class="subtitle">Add a new book to your library collection</p>
            <div class="header-actions">
                <button class="back-button" onclick="goBack()">
                    <span class="icon">üè†</span>
                    Back to Home
                </button>
                <button class="view-books-button" onclick="goToViewBooks()">
                    <span class="icon">üìö</span>
                    View All Books
                </button>
            </div>
        </header>

        <!-- Progress Indicator -->
        <section class="progress-section fade-in">
            <div class="progress-container">
                <div class="progress-step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">Basic Info</div>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Details</div>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Review</div>
                </div>
            </div>
        </section>

        <!-- Form Container -->
        <main class="form-container fade-in">
            <form id="addBookForm" class="book-form" novalidate>
                
                <!-- Step 1: Basic Information -->
                <div class="form-step active" id="step1">
                    <h2 class="step-title">üìñ Basic Information</h2>
                    
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="title" class="required">Book Title</label>
                            <input type="text" id="title" name="title" required 
                                   placeholder="Enter the book title">
                            <div class="error-message" id="titleError"></div>
                        </div>

                        <div class="form-group">
                            <label for="author" class="required">Author</label>
                            <input type="text" id="author" name="author" required 
                                   placeholder="Enter author name">
                            <div class="error-message" id="authorError"></div>
                        </div>

                        <div class="form-group">
                            <label for="isbn">ISBN</label>
                            <input type="text" id="isbn" name="isbn" 
                                   placeholder="978-0-123456-78-9"
                                   pattern="^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$">
                            <div class="error-message" id="isbnError"></div>
                        </div>

                        <div class="form-group">
                            <label for="category" class="required">Category</label>
                            <select id="category" name="category" required>
                                <option value="">Select a category</option>
                                <option value="Fiction">Fiction</option>
                                <option value="Non-Fiction">Non-Fiction</option>
                                <option value="Science">Science</option>
                                <option value="Technology">Technology</option>
                                <option value="History">History</option>
                                <option value="Biography">Biography</option>
                                <option value="Romance">Romance</option>
                                <option value="Mystery">Mystery</option>
                                <option value="Fantasy">Fantasy</option>
                                <option value="Horror">Horror</option>
                                <option value="Self-Help">Self-Help</option>
                                <option value="Educational">Educational</option>
                            </select>
                            <div class="error-message" id="categoryError"></div>
                        </div>

                        <div class="form-group">
                            <label for="year">Publication Year</label>
                            <input type="number" id="year" name="year" 
                                   min="1000" max="2024" 
                                   placeholder="2024">
                            <div class="error-message" id="yearError"></div>
                        </div>

                        <!-- Book Cover Upload -->
                        <div class="form-group full-width">
                            <label for="bookCover">Book Cover</label>
                            <div class="file-upload-container">
                                <div class="file-upload-area" id="fileUploadArea">
                                    <div class="upload-icon">üìÅ</div>
                                    <div class="upload-text">
                                        <p>Drag and drop book cover here, or <span class="upload-link">browse</span></p>
                                        <p class="upload-hint">Supports: JPG, PNG, GIF (Max 5MB)</p>
                                    </div>
                                    <input type="file" id="bookCover" name="bookCover" 
                                           accept="image/*" hidden>
                                </div>
                                <div class="file-preview" id="filePreview" style="display: none;">
                                    <img id="previewImage" src="/placeholder.svg" alt="Book cover preview">
                                    <button type="button" class="remove-file" onclick="removeFile()">‚úï</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn secondary" onclick="resetForm()">Reset Form</button>
                        <button type="button" class="btn primary" onclick="nextStep()">Next Step</button>
                    </div>
                </div>

                <!-- Step 2: Detailed Information -->
                <div class="form-step" id="step2">
                    <h2 class="step-title">üìã Detailed Information</h2>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="publisher">Publisher</label>
                            <input type="text" id="publisher" name="publisher" 
                                   placeholder="Enter publisher name">
                        </div>

                        <div class="form-group">
                            <label for="pages">Number of Pages</label>
                            <input type="number" id="pages" name="pages" 
                                   min="1" placeholder="300">
                        </div>

                        <div class="form-group">
                            <label for="language">Language</label>
                            <select id="language" name="language">
                                <option value="English">English</option>
                                <option value="Spanish">Spanish</option>
                                <option value="French">French</option>
                                <option value="German">German</option>
                                <option value="Italian">Italian</option>
                                <option value="Portuguese">Portuguese</option>
                                <option value="Chinese">Chinese</option>
                                <option value="Japanese">Japanese</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="edition">Edition</label>
                            <input type="text" id="edition" name="edition" 
                                   placeholder="1st Edition">
                        </div>

                        <div class="form-group">
                            <label for="location" class="required">Shelf Location</label>
                            <input type="text" id="location" name="location" required
                                   placeholder="A-1-001" 
                                   pattern="^[A-Z]-\d+-\d+$">
                            <div class="help-text">Format: Section-Shelf-Position (e.g., A-1-001)</div>
                            <div class="error-message" id="locationError"></div>
                        </div>

                        <div class="form-group">
                            <label for="status">Initial Status</label>
                            <select id="status" name="status">
                                <option value="Available">Available</option>
                                <option value="Reserved">Reserved</option>
                                <option value="Processing">Processing</option>
                            </select>
                        </div>

                        <div class="form-group full-width">
                            <label for="description">Description</label>
                            <textarea id="description" name="description" rows="4" 
                                      placeholder="Enter a brief description of the book..."></textarea>
                            <div class="character-count">
                                <span id="descriptionCount">0</span>/500 characters
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label for="tags">Tags (Optional)</label>
                            <input type="text" id="tags" name="tags" 
                                   placeholder="Enter tags separated by commas (e.g., classic, literature, award-winning)">
                            <div class="help-text">Use tags to make books easier to find</div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn secondary" onclick="previousStep()">Previous</button>
                        <button type="button" class="btn primary" onclick="nextStep()">Review & Submit</button>
                    </div>
                </div>

                <!-- Step 3: Review -->
                <div class="form-step" id="step3">
                    <h2 class="step-title">‚úÖ Review Information</h2>
                    
                    <div class="review-container">
                        <div class="review-section">
                            <h3>Basic Information</h3>
                            <div class="review-grid" id="reviewBasic">
                                <!-- Review content will be populated by JavaScript -->
                            </div>
                        </div>

                        <div class="review-section">
                            <h3>Detailed Information</h3>
                            <div class="review-grid" id="reviewDetails">
                                <!-- Review content will be populated by JavaScript -->
                            </div>
                        </div>

                        <div class="review-section" id="reviewCoverSection" style="display: none;">
                            <h3>Book Cover</h3>
                            <div class="review-cover">
                                <img id="reviewCoverImage" src="/placeholder.svg" alt="Book cover">
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn secondary" onclick="previousStep()">Previous</button>
                        <button type="submit" class="btn success" id="submitBtn">
                            <span class="btn-text">Add Book to Library</span>
                            <span class="btn-loading" style="display: none;">
                                <span class="spinner-small"></span>
                                Adding...
                            </span>
                        </button>
                    </div>
                </div>

            </form>
        </main>

        <!-- Success Modal -->
        <div class="modal-overlay" id="successModal">
            <div class="modal-content success-modal">
                <div class="success-icon">‚úÖ</div>
                <h2>Book Added Successfully!</h2>
                <p id="successMessage">The book has been added to your library.</p>
                <div class="modal-actions">
                    <button class="btn secondary" onclick="addAnotherBook()">Add Another Book</button>
                    <button class="btn primary" onclick="goToViewBooks()">View All Books</button>
                </div>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
    <script src="add-book.js"></script>
</body>
</html>